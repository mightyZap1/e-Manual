import{_ as l,c as h,o as k,a2 as t}from"./chunks/framework.DSqgMOff.js";const p="/assets/support.0Ok-0k9u.png",e="/assets/function.CcO5OAkp.png",i="/assets/modeSW_manual.C7uS8Ad2.png",a="/assets/modeSW_select.C-qp-Vre.png",n="/assets/modeSW_toggle.R5S117wJ.png",E="/assets/external_switch.CkTcEtHi.png",r="/assets/external_signal.Bs6p3Lsu.png",d="/assets/pinmap.BWDcCWZB.png",g="/assets/arduino_install1.DJbUPvY-.png",y="/assets/arduino_install2.DZmffy94.png",F="/assets/arduino_install3.B0kngdp9.png",o="/assets/arduino_install4.nv2yen7h.png",_="/assets/arduino_install5.C-iIt44E.png",c="/assets/arduino_install6.nD0Xpth2.png",C="/assets/arduino_install7.OutT-iT5.png",A="/assets/arduino_install8.DCsu4kkc.png",B="/assets/arduino_install9.C8VD9don.png",D="/assets/arduino_icon.DtxLGCph.png",u="/assets/arduino_ide.C3BoE24E.png",M="/assets/arduino_add_library1.BAfQmL4O.png",I="/assets/arduino_add_library2.D3vC1hMu.png",O="/assets/loading.Bk7lEgXw.png",m="/assets/upload.BYoB7WIs.png",v="/assets/toggle.BqcKtQtr.png",P="/assets/toggle.BqcKtQtr.png",b="/assets/manual.Cfsr9gpp.png",S="/assets/extraio_pinmap.CDt3HwPq.png",V="/assets/extraIO2.CGDVd_Te.png",f="/assets/externalUart_ENG.Bf3xFw1E.png",N="/assets/modeSelect.mkhj_gES.png",R="/assets/strokeLimit.BwjKluvZ.png",G=JSON.parse('{"title":"EZ_Controller(CT-01)_Manual","description":"","frontmatter":{"slug":"EZ_Controller(CT-01)_Manual.md","title":"EZ_Controller(CT-01)_Manual","modified":null,"version":null},"headers":[],"relativePath":"accessories/board/EZController/EZ_Controller(CT-01)_Manual.md","filePath":"accessories/board/EZController/EZ_Controller(CT-01)_Manual.md","lastUpdated":1755593825000}'),T={name:"accessories/board/EZController/EZ_Controller(CT-01)_Manual.md"};function L(X,s,x,W,Z,q){return k(),h("div",null,s[0]||(s[0]=[t('<h1 id="_1-개-요" tabindex="-1">1 개 요 <a class="header-anchor" href="#_1-개-요" aria-label="Permalink to &quot;1 개 요&quot;">​</a></h1><p>Arduino 기반의 EZ Controller는 mightyZAP 리니어 액츄에이터를 손쉽게 동작 / 테스트해보기 위한 컨트롤러입니다.</p><p><strong>EZ Controller의 특징은 다음과 같습니다.</strong></p><ul><li>제품 구매 시 이미 내장되어 있는 기본 프로그램을 이용하여 보드 상의 여러 입력 장치를 통해 리니어 액츄에이터를 간단히 손 쉽게 동작시킬 수 있습니다.</li><li>당사가 제공한 다양한 예제 프로그램을 이용하거나, 아두이노 프로그램을 통해서 원하는 프로그램을 자유롭게 직접 만들어, 원하는 동작을 만들어낼 수도 있으며, 목적에 맞는 다양한 제어가 가능합니다.</li><li>다양한 기능의 외부 악세서리들이 연결 가능한 구조입니다.</li><li>MightyZAP 리니어액츄에이터를 제어하기 위한 별도의 회로 구성이 필요 없으며 역극성 방지, 과전류 방지, 정전기 방지 등 전원 보호회로가 내장되어 있어 안전하게 사용하실 수 있습니다.</li></ul><h2 id="_1-1-사용-시-주의-사항" tabindex="-1">1.1 사용 시 주의 사항 <a class="header-anchor" href="#_1-1-사용-시-주의-사항" aria-label="Permalink to &quot;1.1 사용 시 주의 사항&quot;">​</a></h2><p>아래 주의사항은 사용시 각별히 주의를 요하는 사항이므로, 반드시 숙지를 하여 주십시오. 아래 사항을 준수하지 못해 발생한 문제에 대해서는 보증 서비스를 받을 수 없음을 알려드립니다.</p><ol><li><p>제품 연결 시 <strong>무리한 힘으로 결합하지 마십시오</strong>. 또한, 소자 또는 외부로 돌출<br> 된 핀에 무리한 힘을 가하지 마십시오. 고장의 원인이 됩니다.</p></li><li><p>절연이 되어 있지 않은 금속판 위에서 전원 연결 시 단락이 될 수 있습니다.<br> 반드시 <strong>동봉된 플라스틱 서포트를 기판에 장착 후 사용하여 주시기 바랍니다</strong>.<br><img src="'+p+'" alt="support"><strong>단락방지를 위해 사용 전 반드시 동봉된 플라스틱 서포트 장착</strong></p></li><li><p>이지 컨트롤러에 인가된 전압이 연결 액츄에이터에 바로 인가 되므로, 액츄에이터의 구동 전압범위를 확인하시고 <strong>전원 연결 시 극성을 확인하십시오</strong>. 예) 입력 전압 범위가 6.5V – 8.9V인 7.4V 인가 전압의 액츄에이터(D7또는 L7계열) 연결 시, 실수로 12V전원을 연결하면 액츄에이터가 구동을 하지 않고 파손 위험이 있습니다.</p></li><li><p>이지 컨트롤러에 <strong>전원 인가 시 꼭 메인 전원 입력 단자를 통해 공급하십시오</strong>**.**</p></li><li><p>이지 컨트롤러에 <strong>배터리를 전원 공급원으로 사용하지 마십시오</strong>**.**</p></li><li><p>제품에 액츄에이터 연결 시 <strong>핀의 극성을 꼭 확인하고 결합하십시오</strong>.<br> 극성이 바뀔 경우 모터 손상의 원인이 됩니다</p></li><li><p><strong>알맞은 규격의 커넥터를 사용하십시오</strong>. 액츄에이터와 연결 시 오삽에 따른 제품 파손의 위험이 있습니다.</p></li><li><p><strong>각 단자에 용도에 맞는 입력을 넣어주십시오</strong>. 오동작의 원인이 됩니다.<br> 알맞은 전압레벨의 신호단자와 전원/신호 단자의 혼란에 유의 하십시오.</p></li><li><p>로드의 시작 및 종료 지점을 설정하기 위한 <strong>가변저항의 노브를 과도하게 많이 돌리지 마십시오</strong>.</p></li><li><p>제품을 화기, 물기, 먼지, 기름으로부터 멀리하십시오.</p></li><li><p>본 제품은 실내용도로 설계된 제품입니다. 실외에서의 사용은 최대한 자제하여 주십시오.</p></li><li><p>어린이의 손이 닿지 않는 곳에 제품을 보관하십시오.</p></li></ol><h2 id="_1-2-적절한-보관" tabindex="-1">1.2 적절한 보관 <a class="header-anchor" href="#_1-2-적절한-보관" aria-label="Permalink to &quot;1.2 적절한 보관&quot;">​</a></h2><p>아래와 같은 극한환경에서 제품을 사용하거나 보관하지 마십시오. 오작동이나 제품의 파손을 불러올 수 있습니다.</p><ul><li>섭씨 60도 이상의 고온환경 또는 섭씨영하 20도의 극저온환경</li><li>직사광선 또는 화기근처</li><li>고온다습하고 먼지가 많은 장소</li><li>진동이 심한 장소</li><li>정전기를 유발할 수 있는 장소</li></ul><h1 id="_2-제품-기능-및-기본동작" tabindex="-1">2 제품 기능 및 기본동작 <a class="header-anchor" href="#_2-제품-기능-및-기본동작" aria-label="Permalink to &quot;2 제품 기능 및 기본동작&quot;">​</a></h1><h1 id="_2-1제품-기능-설명" tabindex="-1">2.1제품 기능 설명 <a class="header-anchor" href="#_2-1제품-기능-설명" aria-label="Permalink to &quot;2.1제품 기능 설명&quot;">​</a></h1><ul><li><strong>EZ Controller</strong> <strong>구성 부품 및 설명</strong><img src="'+e+'" alt="function"></li></ul><div class="custom-block note"><p class="custom-block-title">참고</p><p>청색 가변저항 ③(A포지션), ④(B포지션)를 각각 시계·반시계 방향으로 조절하여 A와 B지점의 위치를 조정합니다. 편의상 아래와 같이 A는 최소위치, B는 최대 위치로 설정하는 것이 편합니다.</p><ul><li>시계 방향 : - (액츄에이터 수축방향)</li><li>반시계 방향 : + (액츄에이터 확장방향)</li><li>A 지점(부품③) : 시계(수축) 방향으로 돌려 최소 위치 설정</li><li>B 지점(부품④) : 반시계(확장) 방향으로 돌려 최대 위치 설정 다만, 사용자 설정에 따라 A와 B의 최소/최대위치가 역전되어 변경될 수도 있습니다.</li></ul></div><ol><li><p><strong>A Position</strong> 외부 스위치 입력 (○: +, ●:-)</p></li><li><p><strong>B Position</strong> 외부 스위치 입력 (○: +, ●:-) : ①, ②번 단자는 외부 스위치 연결 또는 외부 입력 신호를 받아 동작 (⑨, ⑩번 푸시버튼과 같은 기능이며 포지션 설정은 마찬가지로 ③과 ④를 통해 설정함)</p></li><li><p>A Position 설정 가변저항 <strong>:</strong> 가변 저항을 조절하여 ① 또는 ⑨번 입력 시 액츄에이터가 움직일Position을 설정</p></li><li><p>B Position 설정 가변저항 <strong>:</strong> 가변 저항을 조절하여 ② 또는 ⑩번 입력 시 액츄에이터가 움직일 Position을 설정</p></li><li><p>PC 연결 USB Type-C 단자 : 아두이노 스케치 다운 / Serial 통신</p></li><li><p>Reset 스위치 : 컨트롤러의 동작에 이상이 있을 시, 동작을 초기화</p></li><li><p>12V 메인 전원 입력 단자(VIN) : EZ Controller, 액츄에이터 메인 전원</p></li><li><p>Mode 변환 스위치 (내용 2.2 참고)</p></li><li><p>A Position 택트 스위치</p></li><li><p>B Position 택트 스위치</p></li><li><p>MCU F/W 다운로드 커넥터(ICSP) : 사용자 조작 금지</p></li><li><p>아두이노 I/O 핀(Digital:3 , Analog:3 / GND, 5V, SIG)</p></li><li><p>내부 전원 단자(GND / 3.3V / 5V / VIN(12V)) : 내부에서 사용하는 전원 출력 단자<br> [각 단자의 Current Limit]</p><ul><li>3.3V : ~150mA / 5V : ~ 900 mA / VIN(12V) : Depending on Input Voltage Source</li></ul></li><li><p>니어 액츄에이터 PWM 포트</p></li><li><p>리니어 액츄에이터 TTL 포트</p></li><li><p>리니어 액츄에이터 RS-485 포트</p></li><li><p>리니어 액츄에이터 위치 조작 <strong>Potentiometer</strong></p></li><li><p>사용자 외부 통신 단자 (Bluetooth : TX / RX / GND / 3.3V)</p></li></ol><h2 id="_2-2모드-선택" tabindex="-1">2.2모드 선택 <a class="header-anchor" href="#_2-2모드-선택" aria-label="Permalink to &quot;2.2모드 선택&quot;">​</a></h2><ul><li>EZ Controller에 내장되어 있는 기본동작 프로그램을 이용하여 액츄에이터의 동작을 테스트 합니다.</li><li>기본 동작 프로그램은 Manual Mode, Position Select Mode, Position Toggle Mode로 구성되어 있습니다. (모드스위치는 기본 내장된 프로그램에서만 영향을 미칩니다.)</li></ul><table><thead><tr><th>Manual</th><th>Position Select</th><th>Position Toggle</th></tr></thead><tbody><tr><td><img src="'+i+'" alt="modeSW_manual"></td><td><img src="'+a+'" alt="modeSW_select"></td><td><img src="'+n+'" alt="modeSW_toggle"></td></tr></tbody></table><ul><li><strong>Manual Mode</strong> : 액츄에이터를 연결하고 Mode 스위치를 하단으로 내려 Manual Mode로 설정하고 중앙부 선형 Potentiometer의 위치를 변화시켜 액츄에이터를 조작할 수 있습니다.</li><li><strong>Position Select Mode :</strong> 액츄에이터를 연결하고 Mode 스위치를 중간단으로 올려 Position Select Mode로 설정하고 파란색 포지션 설정 가변 저항을 조절하여 A, B Position을 각각 설정한 후, 중앙부 흰색 Push Button을 눌러 액츄에이터를 A지점과 B지점으로 동작시킬 수 있습니다.</li><li><strong>Position Toggle Mode :</strong> 액츄에이터를 연결하고 Mode 스위치를 상단으로 올려 Position Toggle Mode로 설정하고 파란색 포지션 설정 가변 저항을 조절하여 A, B Position을 각각 설정한 다음 중앙부 흰색 Push Button 둘중 아무 버튼을 눌러 액츄에이터를 A지점과 B지점으로 반전 동작시킬 수 있습니다.</li></ul><h2 id="_2-3외부-스위치-및-외부-신호-입력" tabindex="-1">2.3외부 스위치 및 외부 신호 입력 <a class="header-anchor" href="#_2-3외부-스위치-및-외부-신호-입력" aria-label="Permalink to &quot;2.3외부 스위치 및 외부 신호 입력&quot;">​</a></h2><p><strong>A/B 포지션 외부 스위치 및 신호 입력을 통한 위치 명령</strong> (사진의 ①,②번 단자) 스위치를 연결하거나, 또는 전압 레벨 신호를 인가하여 위치 이동 명령을 내립니다. 흰색의 택트 스위치(⑨,⑩)와 동일한 기능을 합니다. 위치 명령만 내릴 뿐, 위치 지정은 청색 가변저항(③과④)을 통해 셋팅을 합니다.</p><ol><li><strong>External Switch 연결</strong><br> : 단자의 양단을 스위치를 통해 연결해 신호를 입력해줍니다. (단자 양단 단락) <img src="'+E+'" alt="external_switch"></li><li><strong>External Signal 입력</strong> : 단자의 두번째 홀에 신호 인식을 위하여 3.3~12V 전압 레벨의 신호를 인가 시킵니다. <img src="'+r+'" alt="external_signal"></li></ol><h2 id="_2-4-파트-핀-맵" tabindex="-1">2.4 파트 핀 맵 <a class="header-anchor" href="#_2-4-파트-핀-맵" aria-label="Permalink to &quot;2.4 파트 핀 맵&quot;">​</a></h2><table><thead><tr><th><strong>Part No</strong></th><th><strong>Pin Name</strong></th><th><strong>Purpose</strong></th><th><strong>Part No</strong></th><th><strong>Pin Name</strong></th><th><strong>Purpose</strong></th></tr></thead><tbody><tr><td>①,⑨</td><td>I/O10</td><td>GPIO– A Signal</td><td>⑫</td><td>A0,A2,A3</td><td>GPIO - Analog</td></tr><tr><td>②,⑩</td><td>D3</td><td>GPIO– B Signal</td><td>⑫</td><td>D7,IO11,IO13</td><td>GPIO - Digital</td></tr><tr><td>③</td><td>A4</td><td>Analog–A 가변저항</td><td>⑭</td><td>D5</td><td>GPIO - PWM</td></tr><tr><td>④</td><td>A5</td><td>Analog–B 가변저항</td><td>⑮,⑯</td><td>D0,D1</td><td>TTL,RS485 통신 전용</td></tr><tr><td>⑤</td><td>Serial</td><td>USB Serial, Sketch다운</td><td>⑰</td><td>A1</td><td>Analog -Potentiometer</td></tr><tr><td>⑧</td><td>D4,IO12,D6</td><td>GPIO – Slide SW</td><td>⑱</td><td>IO8,IO9</td><td>Software Serial</td></tr></tbody></table><ul><li>Parts No : 구성 부품 표기 번호</li><li>Pin Name : Arduino(Leonardo) I/O핀</li><li>Purpose : I/O핀 Function <img src="'+d+'" alt="pinmap"></li></ul><h1 id="_3-아두이노-개발환경-구축하기" tabindex="-1">3 아두이노 개발환경 구축하기 <a class="header-anchor" href="#_3-아두이노-개발환경-구축하기" aria-label="Permalink to &quot;3 아두이노 개발환경 구축하기&quot;">​</a></h1><p>IRROBOT Ez Controller를 통해 테스트 프로그램을 동작시키기 위해선 PC에 아두이노 개발 환경을 구성해야 합니다.</p><h2 id="_3-1-아두이노-ide-설치" tabindex="-1">3.1 아두이노 IDE 설치 <a class="header-anchor" href="#_3-1-아두이노-ide-설치" aria-label="Permalink to &quot;3.1 아두이노 IDE 설치&quot;">​</a></h2><ol><li><p><a href="https://www.arduino.cc/en/main/software" target="_blank" rel="noreferrer">https://www.arduino.cc/en/main/software</a> 에서 Window Installer를 선택 <img src="'+g+'" alt="arduino_install1"></p></li><li><p>JUST DOWNLOAD를 눌러 다운로드를 진행합니다. <img src="'+y+'" alt="arduino_install2"></p></li><li><p>다운로드가 완료 되면 arduino-xxx-windows.exe를 실행 합니다. <img src="'+F+'" alt="arduino_install3"></p></li><li><p>다음의 과정을 따라 소프트웨어를 설치를 진행 합니다. <img src="'+o+'" alt="arduino_install4"><img src="'+_+'" alt="arduino_install5"><img src="'+c+'" alt="arduino_install6"><img src="'+C+'" alt="arduino_install7"></p></li><li><p>설치 과정에서 나오는 추가 드라이버를 설치합니다. <img src="'+A+'" alt="arduino_install8"></p></li><li><p>소프트웨어 설치가 완료되면 Close를 누릅니다. <img src="'+B+'" alt="arduino_install9"></p></li><li><p>바탕화면에 생성된 아두이노를 실행 합니다. <img src="'+D+'" alt="arduino_icon"></p></li></ol><h2 id="_3-2-아두이노-ide-기본-구성" tabindex="-1">3.2. 아두이노 IDE 기본 구성 <a class="header-anchor" href="#_3-2-아두이노-ide-기본-구성" aria-label="Permalink to &quot;3.2. 아두이노 IDE 기본 구성&quot;">​</a></h2><p>아두이노 개발환경 기본 구성은 다음과 같습니다. <img src="'+u+'" alt="arduino_ide"></p><ol><li>컴파일 버튼 : 이 버튼을 누르면 프로그램이 컴파일 합니다.(컴파일 결과는 4번에 표시)</li><li>업로드 버튼 : 컴파일과 동시에 Arduino에 업로드 합니다. (컴파일 오류 또는 Arduino와의 USB 연결 오류가 발생하면 4번 영역에 표시)</li><li>시리얼 모니터 버튼 : USB로 아두이노와 연결된 상태로 아두이노가 동작하면 아두이노에서 PC로 메시지를 보낼 수 있습니다. Serial.write() 또는 Serial.print()같은 함수를 사용하여 프로그램이 작성된 경우 시리얼 모니터를 통해 메시지를 확인할 수 있습니다.</li><li>메시지 영역 :아두이노 개발환경을 사용하면서 발생하는 알림 메시지나 컴파일, 업로드 결과 등이 표시되는 영역입니다.</li></ol><h2 id="_3-3-아두이노-라이브러리-추가" tabindex="-1">3.3. 아두이노 라이브러리 추가 <a class="header-anchor" href="#_3-3-아두이노-라이브러리-추가" aria-label="Permalink to &quot;3.3. 아두이노 라이브러리 추가&quot;">​</a></h2><ol><li><p>당사 웹사이트(<a href="http://www.mightyzap.com/" target="_blank" rel="noreferrer">http://www.mightyzap.com</a>) API 자료실에서 IRROBOT_EZController_XXXX.Zip을 내려 받습니다. (사용하는 액츄에이터가 Position control제품인지, Force Control제품군인지 확인후 그에 맞는 자료실을 선택해 주세요)</p></li><li><p>[스케치] – [라이브러리 포함하기] – [.ZIP 라이브러리 추가…] 선택 <img src="'+M+'" alt="arduino_add_library1"></p></li><li><p>IRROBOT_EZController_XXXX.Zip를 선택 (파일명은 업데이트에 따라 변경될 수 있습니다.) <img src="'+I+'" alt="arduino_add_library2"></p></li></ol><h2 id="_3-4-예제-불러오기" tabindex="-1">3.4. 예제 불러오기 <a class="header-anchor" href="#_3-4-예제-불러오기" aria-label="Permalink to &quot;3.4. 예제 불러오기&quot;">​</a></h2><ol><li>아두이노 IDE 실행</li><li>[파일] - [예제] - [IRROBOT_EZController_FC]-[EZ] – 사용할 예제 선택 <img src="'+O+'" alt="loading"></li></ol><h2 id="_3-5-프로그램-업로드-하기" tabindex="-1">3.5. 프로그램 업로드 하기 <a class="header-anchor" href="#_3-5-프로그램-업로드-하기" aria-label="Permalink to &quot;3.5. 프로그램 업로드 하기&quot;">​</a></h2><ol><li>[툴]-[보드]-[Arduino Leonardo] 선택</li><li>[툴]-[포트]-[COMXX (Arduino Leonardo)] 연결된 보드의 포트 선택 <img src="'+m+'" alt="upload"></li><li>업로드 버튼을 통해 실행된 프로그램을 보드에 업로드 시켜줍니다.</li></ol><h1 id="_4-아두이노-ide를-통한-액츄에이터-제어-예제" tabindex="-1">4. 아두이노 IDE를 통한 액츄에이터 제어 예제 <a class="header-anchor" href="#_4-아두이노-ide를-통한-액츄에이터-제어-예제" aria-label="Permalink to &quot;4. 아두이노 IDE를 통한 액츄에이터 제어 예제&quot;">​</a></h1><p>아두이노 IDE의 데이터 통신 프로토콜(RS-485 또는 TTL)을 통해 액츄에이터를 제어합니다. 데이터 통신을 통해 액츄에이터를 보다 자유롭게 제어하고 싶을 때 사용합니다.</p><h2 id="_4-1-개요" tabindex="-1">4.1 개요 <a class="header-anchor" href="#_4-1-개요" aria-label="Permalink to &quot;4.1 개요&quot;">​</a></h2><p>EZ Controller를 통해 mightyZAP을 제어하기 위한 아두이노 예제입니다. 본 예제는 시리얼 데이터 통신(TTL 혹은 RS-485통신)을 통한 제어가 가능하며 PWM통신은 지원하지 않습니다.</p><p>EZ Controller는 아두이노 레오나르도 기반으로 제작된 보드이며, 당사에서 제공한 아두이노 API는 아두이노 레오나르도/우노 기준입니다. 각 파라메터 기능에 대한 구체적인 설명은 마이티잽 사용자 매뉴얼을 참고하여 주십시오.</p><h2 id="_4-2-예제-2-position-control-rs-485-ttl" tabindex="-1">4.2 예제 - 2 Position Control (RS-485/TTL) <a class="header-anchor" href="#_4-2-예제-2-position-control-rs-485-ttl" aria-label="Permalink to &quot;4.2 예제 - 2 Position Control (RS-485/TTL)&quot;">​</a></h2><p>두 지점을 지정할 수 있는 가변저항 2개(사진의 3, 4번)와 지정한 지점에 도달하도록 동작시킬 수 있는 Switch 2개(사진의 9,10번)를 내장하고 있습니다. 또는 외부 물리 스위치, 외부 전압 신호 (사진의 1번 또는 2번)로도 지정한 지점에 도달할 수 있도록 할 수 있습니다.</p><p>가변저항으로 지정시킨 2Position을 2개의 스위치를 통해 이동시키는 예제입니다.<br> [예제] - [IRROBOT_EZController] - [EZ]–[EZController_2Positions] 선택</p><p><img src="'+v+`" alt="2position"></p><h3 id="_4-3-1-사용-설명" tabindex="-1">4.3.1 사용 설명 <a class="header-anchor" href="#_4-3-1-사용-설명" aria-label="Permalink to &quot;4.3.1 사용 설명&quot;">​</a></h3><ul><li>모드 스위치(8번)는 어디에 위치시켜도 무방합니다. (기본 내장 프로그램에서만 모드 스위치 동작)</li><li>전원 입력 단자(7번)에 사용하고 하는 액츄에이터에 맞는 VCC전원(7.4V or 12V)과 GND를 방향에 맞게 연결합니다.</li><li>선택한 통신에 알맞은 커넥터에 방향을 유의하여 삽입해줍니다. (14번 PWM / 15번 TTL / 16번 RS-485) <strong>(PWM 커넥터(14번)의 경우 6페이지 핀맵을 참고하여 극성에 유의하여 삽입하여 주십시오)</strong></li><li>A, B 지점의 위치를 조절하는 가변저항(3, 4번)을 시계(-), 반시계(+) 방향으로 돌려 동작시킬 지점을 설정합니다.<br> 시계 방향은 수축(short stroke), 반시계 방향은 확장(long stroke) 방향입니다.</li><li>A, B 스위치(9, 10번)를 눌러 원하는 위치로의 명령을 내립니다.</li><li>좌측 상단의 단자(1, 2번)를 이용하여 외부 스위치·신호를 이용하여 동작시킬 시, 5페이지를 참고하여 주십시오.</li></ul><h3 id="_4-3-2-프로그램-설명" tabindex="-1">4.3.2 프로그램 설명 <a class="header-anchor" href="#_4-3-2-프로그램-설명" aria-label="Permalink to &quot;4.3.2 프로그램 설명&quot;">​</a></h3><p>가변 저항의 값으로 두 지점을 설정하며 A와 B의 버튼이 눌렸을 때 해당 지점으로 움직이게 해주는 예제</p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> B_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1023</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4095</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_A_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_A.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_B_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_B.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  unsigned</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MightyZap_actID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID_NUM;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val, B_stroke_val, position_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_limit, B_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  A_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), VR_MIN, VR_MAX, VAL_MIN, VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  B_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(B_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), VR_MIN, VR_MAX, VAL_MIN, VAL_MAX);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_A_POSITION_ON)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_B_POSITION_ON)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MightyZap_actID,position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><p><strong>PWM 값 매핑</strong></p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                         </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                       \\	</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)</span></span></code></pre></div><ul><li>short : 900</li><li>long : 2100</li></ul></li><li><p><strong>가변저항을 이용한 위치값 입력</strong></p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A_stroke_val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), VR_MIN, VR_MAX, VAL_MIN, VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">B_stroke_val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(B_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), VR_MIN, VR_MAX, VAL_MIN, VAL_MAX);</span></span></code></pre></div><ul><li>Position A 와 Position B 의 가변 저항 값을 읽어 A_stroke_val 변수와 B_stroke_val 변수에 각각 값을 할당해 줍니다.</li><li>map()함수를 통해 가변저항의 저항 값을 액츄에이터의 위치 범위에 맞게 매핑시켜줍니다.</li><li>가변 저항을 이용하지 않을 시 아래의 값을 사용하시기 바랍니다. A_stroke_val = 100; B_stroke_val = 3600;</li></ul></li><li><p><strong>출력 제어</strong></p><ul><li>Easy.MightyZap.GoalPosition() : TTL/RS485 출력 제어</li><li>Easy.servo_CH1.writeMicroseconds() : PWM 출력 제어</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MightyZap_actID,position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span></code></pre></div></li></ul><h2 id="_4-3-예제-toggleposition" tabindex="-1">4.3. 예제 - TogglePosition <a class="header-anchor" href="#_4-3-예제-toggleposition" aria-label="Permalink to &quot;4.3. 예제 - TogglePosition&quot;">​</a></h2><p>1개의 스위치로 지정시킨 2 Position을 반전시켜주는 예제 입니다. [예제] - [IRROBOT_EZController] - [EZ]– [EasyControl_TogglePosition] 선택</p><h3 id="_4-3-1-사용설명" tabindex="-1">4.3.1 사용설명 <a class="header-anchor" href="#_4-3-1-사용설명" aria-label="Permalink to &quot;4.3.1 사용설명&quot;">​</a></h3><ul><li>모드 스위치(8번)는 어디에 위치시켜도 무방합니다. (기본 내장 프로그램에서만 모드 스위치 동작)</li><li>전원 입력 단자(7번)에 사용하고 하는 액츄에이터에 맞는 VCC전원(7.4V or 12V)과 GND를 방향에 맞게 합니다.</li><li>선택한 통신에 알맞은 커넥터에 방향을 유의하여 삽입해줍니다. (14번 PWM / 15번 TTL / 16번 RS-485)<br> (PWM 커넥터(14번)의 경우 6페이지 핀맵을 참고하여 극성에 유의하여 삽입하여 주십시오)</li><li>A, B 지점의 위치를 조절하는 가변저항(3, 4번)을 시계(-), 반시계(+) 방향으로 돌려 동작시킬 지점을 설정합니다.<br> 시계 방향은 수축(short stroke), 반시계 방향은 확장(long stroke) 방향입니다.</li><li>A 또는 B 스위치(사진의 9 또는 10번)를 눌러 원하는 위치로의 명령을 내립니다.</li><li>A와 B 스위치 상관없이, 동일한 스위치를 반복하여 누르면 A-&gt;B 지점으로 B-&gt;A 지점으로 액츄에이터가 이동합니다.</li><li>좌측 상단의 단자(1, 2번)를 이용하여 외부 스위치·신호를 이용하여 동작시킬 시, 5페이지를 참고하여 주십시오.</li></ul><h3 id="_4-3-2-프로그램-설명-1" tabindex="-1">4.3.2 프로그램 설명 <a class="header-anchor" href="#_4-3-2-프로그램-설명-1" aria-label="Permalink to &quot;4.3.2 프로그램 설명&quot;">​</a></h3><p>가변저항으로 설정된 두 지점을 A나 B 버튼을 눌렀을 시, A 지점에서 B지점 또는 B지점에서 A지점으로 반전 동작 <img src="`+P+`" alt="toggle"></p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> B_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1023</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4095</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_A_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_A.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_B_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_B.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tg_flag,Sw_status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ;  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  unsigned</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MightyZap_actID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID_NUM;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  A_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),VR_MIN,VR_MAX,VAL_MIN,VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  B_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(B_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),VR_MIN,VR_MAX,VAL_MIN,VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_A_POSITION_ON </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IS_B_POSITION_ON) tg_flag </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tg_flag) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MightyZap_actID,position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>toggle 동작</strong><ul><li>A 나 B 버튼이 눌렸을 시에 bool 형으로 선언된 tg_flag 값을 반전시키고 그 값이 1 일 때는 A 지점을, 0 일 때는 B 지점으로 이동한다</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_A_POSITION_ON </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IS_B_POSITION_ON) tg_flag </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tg_flag) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span></code></pre></div></li></ul><h1 id="_4-4-예제-–manual-position" tabindex="-1">4.4. 예제 –Manual Position <a class="header-anchor" href="#_4-4-예제-–manual-position" aria-label="Permalink to &quot;4.4. 예제 –Manual Position&quot;">​</a></h1><p>Linear Potentiometer의 이동거리만큼 액츄에이터의 위치를 움직여줍니다.<br> [예제] - [IRROBOT_EZController] - [EZ]– [EasyControl_MPosition] 선택</p><h3 id="_4-4-1-사용설명" tabindex="-1">4.4.1 사용설명 <a class="header-anchor" href="#_4-4-1-사용설명" aria-label="Permalink to &quot;4.4.1 사용설명&quot;">​</a></h3><ul><li>모드 스위치는 어디에 위치시켜도 무방합니다. (기본 내장 프로그램에서만 모드 스위치 동작)</li><li>전원 입력 단자(7번)에 사용하고 하는 액츄에이터에 맞는 VCC전원(7.4V or 12V)과 GND를 방향에 맞게 연결시켜 줍니다.</li><li>선택한 통신에 알맞은 커넥터에 방향을 유의하여 삽입해줍니다. (사진의 14번 PWM / 15번 TTL / 16번 RS-485) (PWM 커넥터의 경우 핀맵을 참고하여 극성에 유의하여 삽입하여 주십시오)</li><li>중단의 가변 Potentiometer(사진의 17번) 를 조절하여 액츄에이터를 동작시켜 줍니다. 매뉴얼 모드에서는 위치 가변저항<br> (사진의 3, 4번)의 설정에 영향을 받지 않고, Potentiometer가 움직이는 만큼 full stroke 구간에서 위치 제어가 됩니다.</li></ul><h3 id="_4-4-2-프로그램-설명" tabindex="-1">4.4.2 프로그램 설명 <a class="header-anchor" href="#_4-4-2-프로그램-설명" aria-label="Permalink to &quot;4.4.2 프로그램 설명&quot;">​</a></h3><p><img src="`+b+`" alt="manual"></p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MANUAL_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1023</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4095</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  unsigned</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MightyZap_actID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID_NUM;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Manual_position_val  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MANUAL_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),VR_MIN,VR_MAX,VAL_MIN,VAL_MAX);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MightyZap_actID,position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>Potentiometer 를 이용한 Manual 제어</strong><ul><li>Manual_position_val변수로 Potentiometer 의 값을 읽은 후 액츄에이터 위치 동작</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MANUAL_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),VR_MIN,VR_MAX,VAL_MIN,VAL_MAX);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MightyZap_actID,position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span></code></pre></div></li></ul><h2 id="_4-5-예제-–basic-function" tabindex="-1">4.5. 예제 –Basic Function <a class="header-anchor" href="#_4-5-예제-–basic-function" aria-label="Permalink to &quot;4.5. 예제 –Basic Function&quot;">​</a></h2><p>Slide 스위치를 통하여 액츄에이터 제어 방식을 전환시키며 제어하는 예제입니다. 공장 출하 프로그램* [예제] - [IRROBOT_EZController] - [EZ]-[EasyControl_BasicFunction] 선택</p><h3 id="_4-5-1-사용설명" tabindex="-1">4.5.1 사용설명 <a class="header-anchor" href="#_4-5-1-사용설명" aria-label="Permalink to &quot;4.5.1 사용설명&quot;">​</a></h3><ul><li>전원 입력 단자(7번)에 사용하고 하는 액츄에이터에 맞는 VCC전원(7.4V or 12V)과 GND를 방향에 맞게 연결합니다.</li><li>선택한 통신에 알맞은 커넥터에 방향을 유의하여 삽입해줍니다. (사진의 14번 PWM / 15번 TTL / 16번 RS-485)<br> (PWM 커넥터의 경우 페이지 핀맵을 참고하여 극성에 유의하여 삽입하여 주십시오</li><li>모드 슬라이드 스위치(사진의 8) 로 Mode를 변환시켜 액츄에이터를 동작시켜 줍니다.</li></ul><table><thead><tr><th>Manual</th><th>Position Select</th><th>Position Toggle</th></tr></thead><tbody><tr><td><img src="`+i+'" alt="modeSW_manual"></td><td><img src="'+a+'" alt="modeSW_select"></td><td><img src="'+n+`" alt="modeSW_toggle"></td></tr></tbody></table><pre><code>1) Mode0 : Manual Control (스위치 최하단)  
2) Mode1 : 2 Position Control (스위치 중간단)  
3) Mode2 : Toggle Control (스위치 최상단)
</code></pre><ul><li>Mode1(Manual Control) 동작 시, 사진의, 4번의 가변저항 값이 17번 가변<br> Potentiometer의 가동범위 Limit 값으로 설정 되니 참고바랍니다.</li></ul><h3 id="_4-5-2-프로그램-설명" tabindex="-1">4.5.2 프로그램 설명 <a class="header-anchor" href="#_4-5-2-프로그램-설명" aria-label="Permalink to &quot;4.5.2 프로그램 설명&quot;">​</a></h3><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MANUAL_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> B_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_MANUAL_MODE_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.MODE_0.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_2P_MODE_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.MODE_1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_TOGGLE_MODE_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.MODE_2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_A_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_A.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_B_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_B.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1023</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4095</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tg_flag,Sw_status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nFilter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  unsigned</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MightyZap_actID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID_NUM;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val,A_stroke_val,B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_limit, B_stroke_limit, stroke_limit_dir;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Manual_position_val  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MANUAL_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),VR_MIN,VR_MAX,VAL_MIN,VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  nFilter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nFilter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (nFilter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Manual_position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint16_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)(nFilter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  A_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  VR_MIN, VR_MAX,  VAL_MIN, VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  B_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(B_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  VR_MIN, VR_MAX,  VAL_MIN, VAL_MAX);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A_stroke_val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">B_stroke_val)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> temp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A_stroke_limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B_stroke_limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> temp;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_MANUAL_MODE_ON) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_2P_MODE_ON)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_A_POSITION_ON) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_B_POSITION_ON) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_TOGGLE_MODE_ON)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_A_POSITION_ON </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IS_B_POSITION_ON){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Sw_status){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sw_cnt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          tg_flag </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          Sw_status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IS_A_POSITION_ON </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IS_B_POSITION_ON){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cnt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          Sw_status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tg_flag </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MightyZap_actID,position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>Slide Switch Mode 정의</strong><ul><li>Slide Switch 의 하단, 중단, 상단이 각 순서대로 MODE_0,MODE_1,MODE_2 로 정의되어 있습니다.</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>#define IS_MANUAL_MODE_ON Easy.MODE_0.isOFF()</span></span>
<span class="line"><span>#define IS_2P_MODE_ON Easy.MODE_1.isOFF()</span></span>
<span class="line"><span>#define IS_TOGGLE_MODE_ON Easy.MODE_2.isOFF()</span></span></code></pre></div></li><li><strong>스위치 Debounce</strong><ul><li>Sw_status : 스위치가 눌러져 있는 상태 판별</li><li>sw_cnt : SW On 시, Debouncing 후 인식</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_A_POSITION_ON </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IS_B_POSITION_ON)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Sw_status){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sw_cnt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			tg_flag </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Sw_status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IS_A_POSITION_ON </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IS_B_POSITION_ON){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cnt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">			Sw_status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h2 id="_4-6-예제-–extra-io-1" tabindex="-1">4.6. 예제 –Extra IO(1) <a class="header-anchor" href="#_4-6-예제-–extra-io-1" aria-label="Permalink to &quot;4.6. 예제 –Extra IO(1)&quot;">​</a></h2><p>상단의 Digital IO핀의 입력을 받아 액츄에이터를 제어하는 예제 입니다.<br> [예제] - [IRROBOT_EZController] - [EZ]–[EasyControl_ExtIO] 선택</p><h3 id="_4-6-1-사용설명" tabindex="-1">4.6.1 사용설명 <a class="header-anchor" href="#_4-6-1-사용설명" aria-label="Permalink to &quot;4.6.1 사용설명&quot;">​</a></h3><ul><li>모드 스위치는 어디에 위치시켜도 무방합니다. (기본 내장 프로그램에서만 모드 스위치 동작)</li><li>전원 입력 단자(7번)에 사용하고 하는 액츄에이터에 맞는 VCC전원(7.4V or 12V)과 GND를 방향에 맞게 연결합니다.</li><li>선택한 통신에 알맞은 커넥터에 방향을 유의하여 삽입해줍니다. (사진의 14번 PWM / 15번 TTL / 16번 RS-485)<br> (PWM 커넥터의 경우 핀맵을 참고하여 극성에 유의하여 삽입하여 주십시오)</li><li>상단의 헤더핀(사진의 12번) 중 좌측 3개는 Digital 단자이며, 이 중에서 좌측에서부터 첫 번째와 두 번째 핀을 사용합니다.</li><li>신호 단자는 3핀 중 제일 하단의 있는 핀이며 해당 핀은 5V의 신호 레벨을 가집니다. (아래 사진의 참조) (Active Low / 5V : High Signal / 0V : Low Signal)</li><li>좌측 두 개의 가변저항(사진의 3,4번)를 통해 이전방법과 동일하게 이동시킬 두 지점을 설정해줍니다.</li><li>첫 번째 핀에 Low 신호를 가하게 되면 설정한 A지점으로 액츄에이터가 이동하며,<br> 두 번째 핀에 Low 신호를 가하게 되면 설정한 B 지점으로 액츄에이터가 이동합니다.</li><li>Push Button Switch 위에 6 개의 부가적인 IO 핀이 있으며 좌측 3 개는 Arduino 의 Digital IO, 우측 3 개는 Analog IO 핀 입니다.</li></ul><h3 id="_4-6-2-프로그램-설명" tabindex="-1">4.6.2 프로그램 설명 <a class="header-anchor" href="#_4-6-2-프로그램-설명" aria-label="Permalink to &quot;4.6.2 프로그램 설명&quot;">​</a></h3><p><img src="`+S+`" alt="extraio_pinmap"></p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> B_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1023</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4095</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pinMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,INPUT);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pinMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,INPUT);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  unsigned</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MightyZap_actID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID_NUM;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val,B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  A_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  VR_MIN, VR_MAX,  VAL_MIN, VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  B_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(B_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  VR_MIN, VR_MAX,  VAL_MIN, VAL_MAX);  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digitalRead</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HIGH) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digitalRead</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HIGH) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MightyZap_actID,position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>** IO Pin 설정** <ul><li>Digital IO (7,11,13)중 7 번과 11 번 IO 를 입력으로 선언</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pinMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,INPUT);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pinMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,INPUT);</span></span></code></pre></div></li><li><strong>IO input 제어</strong><ul><li>7 번핀에 5V 신호가 인가되면 액츄에이터는 설정한 지점 A 로 11 번핀에 5V 신호가 인가되면 액츄에이터는 설정한 지점 B 로 이동한다.</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digitalRead</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HIGH) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digitalRead</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HIGH) position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;</span></span></code></pre></div></li></ul><h2 id="_4-7-예제-extra-io-2" tabindex="-1">4.7. 예제 -Extra IO(2) <a class="header-anchor" href="#_4-7-예제-extra-io-2" aria-label="Permalink to &quot;4.7. 예제 -Extra IO(2)&quot;">​</a></h2><p>상단 Analog IO핀에 외부 센서의 입력을 받아 액츄에이터를 제어하는 예제 입니다.<br> [예제] - [IRROBOT_EZController] - [EZ]–[EasyControl_Sensing] 선택</p><h3 id="_4-7-1-사용설명" tabindex="-1">4.7.1 사용설명 <a class="header-anchor" href="#_4-7-1-사용설명" aria-label="Permalink to &quot;4.7.1 사용설명&quot;">​</a></h3><ul><li>모드 스위치는 어디에 위치시켜도 무방합니다. (기본 내장 프로그램에서만 모드 스위치 동작)</li><li>전원 입력 단자(7번)에 사용하고 하는 액츄에이터에 맞는 VCC전원(7.4V or 12V)과 GND를 방향에 맞게 연결합니다.</li><li>선택한 통신에 알맞은 커넥터에 방향을 유의하여 삽입해줍니다. (사진의 14번 PWM / 15번 TTL / 16번 RS-485)<br> (PWM 커넥터의 경우 핀맵을 참고하여 극성에 유의하여 삽입하여 주십시오)</li><li>상단의 헤더 핀(사진의 12번) 중 우측 3개는 Analog 단자이며, 본 우측에서 3개의 핀을 사용합니다. (아래 사진 참조)</li><li>해당 핀에 Analog 값을 읽을 센서를 용도에 알맞게 연결시켜줍니다.</li><li>센서의 값에 따라 액츄에이터가 이동하게 됩니다.<br> ex) CDS =&gt; 밝을수록 전진, 어두울수록 후진 동작</li></ul><h3 id="_4-7-2-프로그램-설명" tabindex="-1">4.7.2 프로그램 설명 <a class="header-anchor" href="#_4-7-2-프로그램-설명" aria-label="Permalink to &quot;4.7.2 프로그램 설명&quot;">​</a></h3><ul><li>라이브러리 내부적으로 상단의 아날로그핀 A0,A2,A3 가 각각 VR_4,VR_5,VR_6 으로 정의되어 있으며 사용하고자 하는 핀을 정의되어있는 이름으로 선언 또는 매칭되어 있는 아날로그 핀을 직접 선언하여 사용합니다. <img src="`+V+`" alt="extraIO2"></li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MANUAL_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> B_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXT_ANALOG_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_4</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   //VR4 : A0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //VR5 : A2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //VR6 : A3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1023</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4095</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  unsigned</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MightyZap_actID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID_NUM;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Ext_analog_val;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Ext_analog_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(EXT_ANALOG_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), VR_MIN, VR_MAX, VAL_MIN, VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Ext_analog_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_NUM, position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>아날로그 PIn 설정<div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXT_ANALOG_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_4</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   //VR4 : A0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //VR5 : A2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //VR6 : A3</span></span></code></pre></div></li><li>아날로그 입력 제어<div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Ext_analog_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(EXT_ANALOG_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), VR_MIN, VR_MAX, VAL_MIN, VAL_MAX);</span></span></code></pre></div></li></ul><h2 id="_4-8-예제-–external-communication" tabindex="-1">4.8. 예제 –External Communication <a class="header-anchor" href="#_4-8-예제-–external-communication" aria-label="Permalink to &quot;4.8. 예제 –External Communication&quot;">​</a></h2><p>우측 하단의 Bluetooth 포트를 통해 외부 통신을 하며 액츄에이터를 제어하는 예제 입니다.<br> [예제] - [IRROBOT_EZController] - [EZ]–[EasyControl_ExtCom] 선택</p><h3 id="_4-8-1-사용설명" tabindex="-1">4.8.1 사용설명 <a class="header-anchor" href="#_4-8-1-사용설명" aria-label="Permalink to &quot;4.8.1 사용설명&quot;">​</a></h3><ul><li>모드 스위치는 어디에 위치시켜도 무방합니다. (기본 내장 프로그램에서만 모드 스위치 동작)</li><li>전원 입력 단자(7번)에 사용하고 하는 액츄에이터에 맞는 VCC전원(7.4V or 12V)과 GND를 방향에 맞게 연결시켜 줍니다.</li><li>선택한 통신에 알맞은 커넥터에 방향을 유의하여 삽입해줍니다. (사진의 14번 PWM / 15번 TTL / 16번 RS-485)<br> (PWM 커넥터의 경우핀맵을 참고하여 극성에 유의하여 삽입하여 주십시오)</li><li>우측 하단 외부 통신을 위한 핀(사진의 18번)이 있으며 해당 핀에 연결하고자 하는 장비를 핀 배열에 맞게 연결합니다.</li><li>해당 예제에선 A버튼을 누르면 ASCII값으로 ‘A’가 송신되고 B버튼을 누르면 ASCII값 ‘B’가 송신됩니다.<br> 보드가 ASCII값으로 ‘A’를 수신하면 이전과 동일하게 설정해두었던 A 지점으로 액츄에이터가 이동하며, 마찬가지로 ASCII값 ‘B’를 수신하면 설정해두었던 B지점으로 액츄에이터가 이동합니다.</li></ul><h3 id="_4-8-2-프로그램-설명" tabindex="-1">4.8.2 프로그램 설명 <a class="header-anchor" href="#_4-8-2-프로그램-설명" aria-label="Permalink to &quot;4.8.2 프로그램 설명&quot;">​</a></h3><ul><li>아두이노 상으로 IO8,IO9 핀을 각각 RX,TX 로 선언시켜줍니다.</li><li>Serial.begin()함수로 시리얼 모니터의 baud rate 설정 Sw_func()함수와 ExtComData_Func()함수에서 송수신 된 데이터를 시리얼 모니터에 출력하여 확인합니다.</li><li>ExtComData_Listen() 함수를 통하여 통신 데이터를 한 바이트씩 수신해줍 니다.</li><li>Sw_Func()함수에선 A 와 B 각각 해당하는 ASCII 코드 값을 송신하며 ExtComData_Func()함수에선 수신된 ASCII 코드값에 해당하는 Position 으로 액츄에이터를 이동시켜줍니다. <img src="`+f+`" alt="externalUart_ENG"></li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SoftwareSerial</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> userSerial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> B_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1023</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4095</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_A_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_A.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_B_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_B.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RxChar;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val,B_stroke_val;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Serial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  userSerial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  unsigned</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MightyZap_actID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID_NUM;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  A_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  VR_MIN, VR_MAX,  VAL_MIN, VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  B_stroke_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(B_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  VR_MIN, VR_MAX,  VAL_MIN, VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Sw_Func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ExtComData_Listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ExtComData_Func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Sw_Func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_A_POSITION_ON){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    userSerial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Serial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&#39;A&#39; Send&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(IS_B_POSITION_ON){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    userSerial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Serial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&#39;B&#39; Send&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExtComData_Listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userSerial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">available</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    RxChar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userSerial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExtComData_Func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RxChar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;A&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Serial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&#39;A&#39; Recieved&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RxChar </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;B&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Serial.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&#39;B&#39; Recieved&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_NUM, position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="_4-9-예제-–-mode-selection" tabindex="-1">4.9. 예제 – Mode Selection <a class="header-anchor" href="#_4-9-예제-–-mode-selection" aria-label="Permalink to &quot;4.9. 예제 – Mode Selection&quot;">​</a></h2><p>좌측 Slide Switch(사진의 8번)의 값에 따라 동작할 수 있는 모드를 설정할 수 있는 예제 입니다.<br> [예제] - [IRROBOT_EZController] - [EZ]–[EasyControl _ModeSelect] 선택</p><h3 id="_4-9-1-사용설명" tabindex="-1">4.9.1 사용설명 <a class="header-anchor" href="#_4-9-1-사용설명" aria-label="Permalink to &quot;4.9.1 사용설명&quot;">​</a></h3><ul><li>[Basic Function]과 동일하게 슬라이드 스위치 위치에 따라 동작이 다르며 Mode별로 동작을 지정할 수 있습니다.</li></ul><h3 id="_4-9-2-프로그램-설명" tabindex="-1">4.9.2 프로그램 설명 <a class="header-anchor" href="#_4-9-2-프로그램-설명" aria-label="Permalink to &quot;4.9.2 프로그램 설명&quot;">​</a></h3><p><img src="`+N+`" alt="modeSelect"></p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ModeSW_1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.MODE_0.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ModeSW_2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.MODE_1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ModeSW_3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.MODE_2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MANUAL_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> POS2_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TOGGLE_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXT_IO_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXT_SENSING_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXT_COM_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sw_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ModeSW_1)sw_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ModeSW_2) sw_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ModeSW_3) sw_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModeSelect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MANUAL_MODE,POS2_MODE,TOGGLE_MODE,sw_val);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>Mode 정의</strong><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MANUAL_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> POS2_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TOGGLE_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXT_IO_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXT_SENSING_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXT_COM_MODE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span></span></code></pre></div></li><li><strong>Switch 값 정의</strong><ul><li>Slide Switch 가 하단일 때는 1, 중단일 때는 2, 상단일 때는 3 으로 구분 지어 줍니다.</li><li>Tester.ModeSelect(int mode1, int mode2. int mode3, int sw); mode1 : sw 값이 1 일 때의 동작 mode 2 : sw 값이 2 일 때의 동작 mode3 : sw 값이 3 일 때의 동작 sw : Slide Switch 에 의해 설정된 Mode 값</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ModeSW_1)sw_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ModeSW_2) sw_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ModeSW_3) sw_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ModeSelect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MANUAL_MODE,POS2_MODE,TOGGLE_MODE,sw_val);</span></span></code></pre></div></li></ul><h2 id="_4-10-예제-–stroke-limit" tabindex="-1">4.10. 예제 –Stroke Limit <a class="header-anchor" href="#_4-10-예제-–stroke-limit" aria-label="Permalink to &quot;4.10. 예제 –Stroke Limit&quot;">​</a></h2><p>좌측 2개의 가변저항으로 Stroke의 Max/Min Limit을 설정할 수 있는 예제 입니다.<br> [예제] - [IRROBOT_EZController] - [EZ]–[EasyControl StrokeLimit] 선택</p><h2 id="_4-10-1-사용설명" tabindex="-1">4.10.1 사용설명 <a class="header-anchor" href="#_4-10-1-사용설명" aria-label="Permalink to &quot;4.10.1 사용설명&quot;">​</a></h2><ul><li>모드 스위치는 어디에 위치시켜도 무방합니다. (기본 내장 프로그램에서만 모드 스위치 동작)</li><li>전원 입력 단자(7번)에 사용하고 하는 액츄에이터에 맞는 VCC전원(7.4V or 12V)과 GND를 방향에 맞게 연결합니다.</li><li>선택한 통신에 알맞은 커넥터에 방향을 유의하여 삽입해줍니다. (사진의 14번 PWM / 15번 TTL / 16번 RS-485) (PWM 커넥터의 경우 핀맵을 참고하여 극성에 유의하여 삽입하여 주십시오)</li><li>Stroke의 Max와 Min 지점의 위치를 조절하는 가변저항(사진의 3, 4번)을 시계(-), 반시계(+) 방향으로돌려 동작시킬 지점을 설정합니다. 시계 방향은 수축(short stroke), 반시계 방향은 확장(long stroke) 방향입니다.</li><li>중단의 가변 Potentiometer(사진의 17번) 를 조절하여 액츄에이터를 동작시켜 줍니다.<br> 해당 프로그램에선 위치 가변저항 (사진의 3 ,4번)의 설정에 영향을 받으며, Potentiometer를 움직여도 가변저항으로 설정한 구간에서만 위치 제어가 됩니다.</li></ul><h3 id="_4-10-2-프로그램-설명" tabindex="-1">4.10.2 프로그램 설명 <a class="header-anchor" href="#_4-10-2-프로그램-설명" aria-label="Permalink to &quot;4.10.2 프로그램 설명&quot;">​</a></h3><p><img src="`+R+`" alt="strokeLimit"></p><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;IRROBOT_EZController.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MANUAL_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> B_POSITION_VR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.VR_3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_A_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easyter.POS_A.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IS_B_POSITION_ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_B.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isOFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SW_A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_A</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SW_B</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Easy.POS_B</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VR_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1023</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VAL_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4095</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ID_NUM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MIN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 900</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_MAX</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PWM_VAL</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(position_val,VAL_MIN,VAL_MAX,PWM_MIN,PWM_MAX)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRROBOT_EZController</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Easy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">Serial1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> position_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tg_flag,Sw_status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sw_cnt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">begin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setStep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ID_MAX,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1023</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  unsigned</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MightyZap_actID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ID_NUM;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  short</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val,A_stroke_val,B_stroke_val;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> A_stroke_limit, B_stroke_limit, stroke_limit_dir;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> short_stroke_limit,long_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Manual_position_val  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MANUAL_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),VR_MIN,VR_MAX,VAL_MIN,VAL_MAX);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  short_stroke_limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(A_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  VR_MIN, VR_MAX,  VAL_MIN, VAL_MAX);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  long_stroke_limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(B_POSITION_VR.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  VR_MIN, VR_MAX,  VAL_MIN, VAL_MAX);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(short_stroke_limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">long_stroke_limit)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> temp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> short_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    short_stroke_limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> long_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    long_stroke_limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> temp;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Manual_position_val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">short_stroke_limit) Manual_position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> short_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Manual_position_val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">long_stroke_limit) Manual_position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> long_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.MightyZap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GoalPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MightyZap_actID,position_val);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Easy.servo_CH1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeMicroseconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(PWM_VAL);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>아날로그 값 Min/Max 설정</strong><ul><li>두 개의 아날로그 값을 읽어와 가장 작은 쪽을 Short stroke limit로 큰 쪽을 Long stroke limit로 설정합니다.</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(short_stroke_limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">long_stroke_limit)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  	int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> temp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> short_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  	short_stroke_limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> long_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  	long_stroke_limit </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> temp;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre></div></li><li><strong>Position Limit 값 설정</strong><ul><li>가변 Potentiometer 의 값이 설정한 범위를 벗어나지 못하도록 값 판별</li></ul><div class="language-C++ vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">C++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Manual_position_val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">short_stroke_limit) Manual_position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> short_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Manual_position_val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">long_stroke_limit) Manual_position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> long_stroke_limit;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  position_val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Manual_position_val;</span></span></code></pre></div></li></ul>`,118)]))}const U=l(T,[["render",L]]);export{G as __pageData,U as default};
